# 第12章 vector在for循环中边遍历边移除

在C++中，使用`std::vector`时，如果你想在遍历元素的同时移除满足某些条件的元素，可以使用迭代器来实现。具体来说，你可以使用`erase`方法来移除元素，并且`erase`方法会返回一个指向被删除元素之后元素的新迭代器，这样你就可以继续遍历剩下的元素。

以下是一个示例代码，展示了如何在遍历`std::vector`的同时移除满足条件的元素：

```c++
#include <iostream>
#include <vector>

int main() {
    std::vector<int> vec = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};
    // 使用迭代器遍历vector，并移除偶数元素
    for (auto it = vec.begin(); it != vec.end(); ) {
        if (*it % 2 == 0) {
            it = vec.erase(it); // 移除元素，并获取下一个元素的迭代器
        } else {
            ++it; // 如果不是偶数，继续下一个元素
        }
    }
    // 输出剩余的元素
    for (const auto& elem : vec) {
        std::cout << elem << " ";
    }
    std::cout << std::endl;

    return 0;
}
```

在这个示例中，我们创建了一个包含整数的`std::vector`，然后使用迭代器遍历这个向量。如果当前元素是偶数（即`*it % 2 == 0`），我们就调用`erase`方法移除这个元素，并且`erase`方法会返回一个指向被删除元素之后元素的新迭代器，这样我们就可以继续遍历剩下的元素。如果不是偶数，我们就简单地增加迭代器，继续下一个元素。

最终，输出结果将是：

```txt
1 3 5 7 9 
```

这种方法确保了在遍历过程中安全地移除元素，而不会导致迭代器失效或遗漏元素。